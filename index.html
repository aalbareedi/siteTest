<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="normalize.css" />
        <link rel="stylesheet" href="carousel/carousel.css" />
        <!-- <link rel="stylesheet" href="skeleton/skeleton.css" /> -->
        <link rel="stylesheet" href="skeletonize/skeletonize.css" />
        <link rel="stylesheet" href="style.css" />
        <title>Stocks</title>
        <!-- google fonts used -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Kanit:wght@300&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Changa&display=swap"
            rel="stylesheet"
        />
        <!-- font awesome -->
        <script
            src="https://kit.fontawesome.com/c82a5882c2.js"
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/css-typed-om@0.4.0/index.umd.min.js"></script>
    </head>
    <body>
        <header>
            <div class="nav-logo">
                <div class="nav-company-image">
                    <i class="fa-solid fa-globe"></i>
                </div>
                <div class="nav-company-name">
                    <div class="nav-company-main-name">Uni-Fi</div>
                    <div class="nav-company-sub-name">Unified Finance</div>
                </div>
            </div>
            <button class="color-mode-btn" type="button">
                <i class="fas fa-moon moon-icon"></i>
                <i class="fas fa-sun sun-icon"></i>
            </button>
            <script type="module">
                const button = document.querySelector(".color-mode-btn");
                let colorMode =
                    localStorage.getItem("color-mode") ||
                    (window.matchMedia("(prefers-color-scheme: dark)").matches
                        ? "dark"
                        : "light");

                saveColorMode();

                button.onclick = () => {
                    // Toggle
                    colorMode = colorMode == "dark" ? "light" : "dark";
                    saveColorMode();
                };

                function saveColorMode() {
                    document.body.classList.toggle("dark", colorMode == "dark");
                    localStorage.setItem("color-mode", colorMode);
                }
            </script>
            <button class="nav-menu-btn" type="button">
                <i class="fa-solid fa-gear settings-nav-btn-icon"></i>
                <i class="fas fa-times close-nav-btn-icon"></i>
                <div class="nav-menu-btn-text">Settings</div>
            </button>
        </header>
        <main id="main-content">
            <nav class="main-dock">
                <button
                    id="stocks-dock-btn"
                    class="main-dock-btn"
                    type="button"
                >
                    <i class="fa-solid fa-arrow-trend-up"></i>
                    <div class="main-dock-btn-text">Stocks</div>
                </button>
                <button
                    id="crypto-dock-btn"
                    class="main-dock-btn dock-btn-selected"
                    type="button"
                >
                    <i class="fab fa-bitcoin"></i>
                    <div class="main-dock-btn-text">Crypto</div>
                </button>
            </nav>
            <div id="crypto">
                <h1 class="main-title">Cryptocurrency</h1>
                <!-- <div class="global-stats-title">Global Statistics</div> -->
                <div class="main-stats-wrapper">
                    <div class="global-crypto-label">Global</div>
                    <div class="main-crypto-stats carousel-wrapper">
                        <div class="carousel">
                            <div class="crypto-stat-group">
                                <div class="crypto-stat-label">Market Cap:</div>
                                <div class="crypto-stat-result global-mcap">
                                    <div class="crypto-stat-value"></div>
                                    <div
                                        class="crypto-stat-perc global-positive"
                                    >
                                        <i class="fas fa-caret-up"></i>
                                        <div class="crypto-stat-perc-val"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="crypto-stat-group">
                                <div class="crypto-stat-label">24h Vol:</div>
                                <div class="crypto-stat-result global-vol">
                                    <div class="crypto-stat-value">$31.17B</div>
                                    <div
                                        class="crypto-stat-perc global-positive"
                                    >
                                        <i class="fas fa-caret-up"></i>
                                        <div class="crypto-stat-perc-val">
                                            5.82%
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="crypto-stat-group">
                                <div class="crypto-stat-label">Dominance:</div>
                                <div class="crypto-stat-result">
                                    <div class="crypto-dom-val btc-dom">
                                        BTC <span>48.8%</span>
                                    </div>
                                    <div class="crypto-dom-val eth-dom">
                                        ETH <span>18.7%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="crypto-pause-btn pause-btn" type="button">
                        <i class="fas fa-pause pause-icon"></i>
                        <i class="fas fa-play play-icon"></i>
                    </button>
                </div>
                <script type="module">
                    import { getCryptoGlobalMetrics } from "./api/crypto.js";
                    import {
                        formatUsd,
                        formatPercent,
                    } from "./utils/data-formatter.js";
                    import {
                        makeCarouselWork,
                        makePauseButtonWork,
                    } from "./carousel/carousel.js";

                    const data = await getCryptoGlobalMetrics();

                    makeCarouselWork(
                        document.querySelector(".main-crypto-stats .carousel")
                    );

                    makePauseButtonWork(
                        document.querySelector(
                            ".main-stats-wrapper .pause-btn"
                        ),
                        document.querySelector(".main-crypto-stats .carousel")
                    );

                    const carousels = document.querySelectorAll(
                        ".main-crypto-stats .carousel"
                    );

                    carousels.forEach((carousel) => {
                        renderGlobalStat(
                            carousel.querySelector(
                                ".global-mcap .crypto-stat-value"
                            ),
                            carousel.querySelector(
                                ".global-mcap .crypto-stat-perc"
                            ),
                            data.quote.USD.total_market_cap,
                            data.quote.USD
                                .total_market_cap_yesterday_percentage_change
                        );

                        renderGlobalStat(
                            carousel.querySelector(
                                ".global-vol .crypto-stat-value"
                            ),
                            carousel.querySelector(
                                ".global-vol .crypto-stat-perc"
                            ),
                            data.quote.USD.total_volume_24h,
                            data.quote.USD
                                .total_volume_24h_yesterday_percentage_change
                        );

                        function renderGlobalStat(
                            valElement,
                            percElement,
                            value,
                            perc
                        ) {
                            valElement.innerHTML = formatUsd(value);

                            percElement.querySelector(
                                ".crypto-stat-perc-val"
                            ).innerHTML = formatPercent(perc / 100);

                            percElement.classList.toggle(
                                "global-positive",
                                perc >= 0
                            );

                            percElement.classList.toggle(
                                "global-negative",
                                perc < 0
                            );
                        }
                        carousel.querySelector(".btc-dom span").innerHTML =
                            formatPercent(data.btc_dominance / 100);
                        carousel.querySelector(".eth-dom span").innerHTML =
                            formatPercent(data.eth_dominance / 100);
                    });
                </script>
                <div class="crypto-options">
                    <div class="crypto-search-bar">
                        <i class="fas fa-search search-bar-icon"></i>
                        <div class="search-bar-placeholder">
                            Search Cryptocurrencies
                        </div>
                    </div>
                    <div class="crypto-tabs">
                        <div class="crypto-tab selected-crypto-tab">
                            Markets
                        </div>
                        <div class="crypto-tab">Watchlist</div>
                    </div>
                    <div class="crypto-controls">
                        <div
                            class="crypto-control-btn"
                            id="crypto-quantity-select"
                        >
                            <div class="crypto-control-btn-text"></div>
                            <div class="crypto-control-arrow">
                                <i class="fas fa-angle-down"></i>
                            </div>
                        </div>
                        <script type="module">
                            import { handleCryptoQuantityChange } from "./states/crypto-quantity.js";

                            handleCryptoQuantityChange((cryptoQuantity) => {
                                document.querySelector(
                                    "#crypto-quantity-select .crypto-control-btn-text"
                                ).innerHTML = cryptoQuantity;
                            });
                        </script>
                        <div
                            class="crypto-control-btn"
                            id="crypto-timeframe-select"
                        >
                            <div class="crypto-control-btn-text"></div>
                            <div class="crypto-control-arrow">
                                <i class="fas fa-angle-down"></i>
                            </div>
                        </div>
                        <script type="module">
                            import { handleCryptoTimeframeChange } from "./states/crypto-timeframe.js";

                            handleCryptoTimeframeChange((cryptoTimeframe) => {
                                document.querySelector(
                                    "#crypto-timeframe-select .crypto-control-btn-text"
                                ).innerHTML = `${cryptoTimeframe} %`;
                            });
                        </script>
                        <div class="crypto-view-toggler">
                            <div class="crypto-toggle-opt crypto-table-view">
                                <i class="fas fa-bars"></i>
                            </div>
                            <div class="crypto-toggle-opt crypto-card-view">
                                <i class="fas fa-th-large"></i>
                            </div>
                        </div>
                        <div class="search-crypto-btn">
                            <i class="fas fa-search"></i>
                        </div>
                    </div>
                </div>
                <div class="crypto-table-wrapper">
                    <table class="crypto-list">
                        <thead class="crypto-list-header">
                            <tr>
                                <th class="crypto-list-header-number">#</th>
                                <th class="crypto-list-header-price">
                                    <div class="crypto-th-content">
                                        <div>
                                            Coin Price
                                            <span class="currency-header-label"
                                                >(USD)</span
                                            >
                                        </div>
                                        <div class="sort-arrow">
                                            <i class="fas fa-sort-up"></i>
                                            <i class="fas fa-sort-down"></i>
                                        </div>
                                    </div>
                                </th>
                                <th class="crypto-list-header-percent">
                                    <div class="crypto-th-content">
                                        <div>
                                            <span
                                                class="crypto-timeframe-val"
                                            ></span>
                                            %
                                        </div>
                                        <div class="sort-arrow">
                                            <i class="fas fa-sort-up"></i>
                                            <i class="fas fa-sort-down"></i>
                                        </div>
                                    </div>
                                </th>
                                <script type="module">
                                    import { handleCryptoTimeframeChange } from "./states/crypto-timeframe.js";

                                    handleCryptoTimeframeChange(
                                        (cryptoTimeframe) => {
                                            document.querySelector(
                                                ".crypto-list-header-percent .crypto-timeframe-val"
                                            ).innerHTML = cryptoTimeframe;
                                        }
                                    );
                                </script>
                                <th class="crypto-th-mcap">
                                    <div class="crypto-th-content">
                                        <div>Market Cap</div>
                                        <div class="sort-arrow">
                                            <i class="fas fa-sort-up"></i>
                                            <i class="fas fa-sort-down"></i>
                                        </div>
                                    </div>
                                </th>
                                <script type="module">
                                    import { getCryptoCoins } from "./api/crypto.js";
                                    import {
                                        cryptoSort,
                                        setCryptoSort,
                                        handleCryptoSortChange,
                                    } from "./states/crypto-sort.js";
                                    import {
                                        cryptoTimeframe,
                                        handleCryptoTimeframeChange,
                                    } from "./states/crypto-timeframe.js";
                                    import {
                                        cryptoQuantity,
                                        handleCryptoQuantityChange,
                                    } from "./states/crypto-quantity.js";

                                    handleCryptoQuantityChange(() => {
                                        render();
                                    });

                                    handleCryptoTimeframeChange(() => {
                                        render();
                                    });

                                    handleCryptoSortChange(() => {
                                        render();
                                    });

                                    function render() {
                                        const table =
                                            document.querySelector(
                                                ".crypto-list"
                                            );

                                        // Reset sort arrows
                                        table
                                            .querySelectorAll(".sort-arrow")
                                            .forEach((sortArrow) => {
                                                sortArrow.classList.remove(
                                                    "desc",
                                                    "asc"
                                                );
                                            });

                                        handleHeaderClick(
                                            table.querySelector(
                                                ".crypto-list-header-price"
                                            ),
                                            "price"
                                        );

                                        table
                                            .querySelector(
                                                ".crypto-list-header-percent .sort-arrow"
                                            )
                                            .classList.remove("display-hidden");

                                        handleHeaderClick(
                                            table.querySelector(
                                                ".crypto-list-header-percent"
                                            ),
                                            `percent_change_${cryptoTimeframe}`
                                        );

                                        handleHeaderClick(
                                            table.querySelector(
                                                ".crypto-th-mcap"
                                            ),
                                            "market_cap"
                                        );

                                        table.querySelector(
                                            ".crypto-list-header-number"
                                        ).onclick = () => {
                                            if (
                                                cryptoSort.property ==
                                                    "market_cap" &&
                                                cryptoSort.direction == "desc"
                                            ) {
                                                return;
                                            }

                                            setCryptoSort({
                                                property: "market_cap",
                                                direction: "desc",
                                            });
                                        };

                                        if (!cryptoSort) {
                                            return;
                                        }

                                        const columnHeader =
                                            cryptoSort.property == "market_cap"
                                                ? table.querySelector(
                                                      ".crypto-th-mcap"
                                                  )
                                                : cryptoSort.property == "price"
                                                ? table.querySelector(
                                                      ".crypto-list-header-price"
                                                  )
                                                : cryptoSort.property.startsWith(
                                                      "percent_change_"
                                                  )
                                                ? table.querySelector(
                                                      ".crypto-list-header-percent"
                                                  )
                                                : null;

                                        const isSortedDesc =
                                            cryptoSort.direction == "desc";

                                        const sortArrow =
                                            columnHeader.querySelector(
                                                ".sort-arrow"
                                            );

                                        sortArrow.classList.remove(
                                            isSortedDesc ? "asc" : "desc"
                                        );

                                        sortArrow.classList.add(
                                            isSortedDesc ? "desc" : "asc"
                                        );

                                        if (cryptoTimeframe == "30d") {
                                            table.querySelector(
                                                ".crypto-list-header-percent"
                                            ).onclick = () => {};
                                            table
                                                .querySelector(
                                                    ".crypto-list-header-percent .sort-arrow"
                                                )
                                                .classList.add(
                                                    "display-hidden"
                                                );
                                            return;
                                        }
                                    }

                                    function handleHeaderClick(
                                        columnHeader,
                                        property
                                    ) {
                                        columnHeader.onclick = () => {
                                            const isSortedDesc =
                                                cryptoSort &&
                                                cryptoSort.property ==
                                                    property &&
                                                cryptoSort.direction == "desc";

                                            setCryptoSort({
                                                property: property,
                                                direction: isSortedDesc
                                                    ? "asc"
                                                    : "desc",
                                            });
                                        };
                                    }
                                </script>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <!-- <div id="crypto-infinite-scroller"></div> -->
                </div>
                <script type="module">
                    import CryptoEntry from "./components/crypto-entry.js";
                    import {
                        getCryptoCoins,
                        getCryptoCoinsFinal,
                        getCryptoMetadata,
                        getCyptoTotalCount,
                    } from "./api/crypto.js";
                    import {
                        cryptoQuantity,
                        handleCryptoQuantityChange,
                    } from "./states/crypto-quantity.js";
                    import {
                        cryptoTimeframe,
                        handleCryptoTimeframeChange,
                    } from "./states/crypto-timeframe.js";
                    import { html } from "./utils/html.js";
                    import { onScrollTo } from "./utils/on-scroll-to.js";
                    import {
                        DISABLE_INFINITE_SCROLLING,
                        DISABLE_RENDER_DATA,
                    } from "./utils/constants.js";
                    import {
                        cryptoSort,
                        handleCryptoSortChange,
                    } from "./states/crypto-sort.js";
                    import { skeletonize } from "./skeletonize/skeletonize.js";

                    /**
                     * @type {Element}
                     */
                    const tbody = document.querySelector(
                        ".crypto-list > tbody"
                    );

                    let coins = null;
                    let cryptoTotalCount = null;
                    let metadata = null;
                    let abortController = null;

                    handleCryptoQuantityChange(async () => {
                        document.body.style.overflow = "hidden";
                        window.scrollTo({ top: -1, behavior: "smooth" });

                        renderSkeletonRows();

                        // Abort the current fetch (if any)
                        if (abortController) {
                            abortController.abort();
                        }

                        abortController = new AbortController();
                        coins = await getCryptoCoinsFinal({
                            coins,
                            cryptoQuantity,
                            quantityModifier: 0,
                            cryptoSort,
                            abortSignal: abortController.signal,
                        });

                        if (!coins) {
                            return;
                        }

                        cryptoTotalCount = await getCyptoTotalCount();

                        metadata = await getCryptoMetadata({
                            coinIds: coins.map((coin) => coin.id),
                        });

                        render();
                        document.body.style.overflow = "initial";
                    });

                    handleCryptoTimeframeChange(() => {
                        document.body.style.overflow = "hidden";
                        window.scrollTo({ top: -1, behavior: "smooth" });

                        renderSkeletonRows();

                        // renderScrollDetector(false);
                        render();
                        document.body.style.overflow = "initial";
                    });

                    handleCryptoSortChange(async () => {
                        document.body.style.overflow = "hidden";
                        window.scrollTo({ top: -1, behavior: "smooth" });

                        renderSkeletonRows();

                        // renderScrollDetector(false);

                        // Abort the current fetch (if any)
                        if (abortController) {
                            abortController.abort();
                        }

                        abortController = new AbortController();
                        coins = await getCryptoCoinsFinal({
                            coins,
                            cryptoQuantity,
                            quantityModifier: 0,
                            cryptoSort,
                            abortSignal: abortController.signal,
                        });

                        if (!coins) {
                            return;
                        }

                        cryptoTotalCount = await getCyptoTotalCount();

                        metadata = await getCryptoMetadata({
                            coinIds: coins.map((coin) => coin.id),
                        });

                        render();
                        document.body.style.overflow = "initial";
                    });

                    function render() {
                        if (DISABLE_RENDER_DATA) {
                            return;
                        }

                        if (!coins || !metadata) {
                            return;
                        }
                        tbody.innerHTML = "";

                        for (let i = 0; i < coins.length; i++) {
                            tbody.append(
                                CryptoEntry(
                                    i + 1,
                                    coins[i],
                                    metadata[coins[i].id],
                                    cryptoTimeframe
                                )
                            );
                        }

                        if (
                            cryptoQuantity == "All Coins" &&
                            coins.length < cryptoTotalCount
                        ) {
                            renderScrollDetector(true);
                        }

                        // const scrollDetector = html(`
                        //     <tr class="skeleton-row">
                        //         <td>
                        //             <div class="skeleton-row-rank skeleton-box"></div>
                        //         </td>
                        //         <td>
                        //             <div class="skeleton-row-price-wrapper">
                        //                 <div class="skeleton-row-logo skeleton-box"></div>
                        //                 <div class="skeleton-row-info">
                        //                     <div class="skeleton-row-name skeleton-box"></div>
                        //                     <div class="skeleton-row-price skeleton-box"></div>
                        //                 </div>
                        //             </div>
                        //         </td>
                        //         <td>
                        //             <div class="skeleton-row-perc-change skeleton-box"></div>
                        //         </td>
                        //         <td>
                        //             <div class="skeleton-row-mcap skeleton-box"></div>
                        //         </td>
                        //     </tr>
                        // `);
                    }

                    function renderSkeletonRows() {
                        tbody.innerHTML = "";
                        const rowCount = coins
                            ? Math.max(100, coins.length)
                            : 100;
                        for (let i = 0; i < rowCount; i++) {
                            tbody.append(
                                skeletonize(
                                    CryptoEntry(
                                        0,
                                        {
                                            symbol: "BTCB",
                                            name: "Bitcoin",
                                            quote: {
                                                USD: {
                                                    price: 0.000099,
                                                    market_cap: 44000000,
                                                    percent_change_1h: 90.0,
                                                    percent_change_24h: 90.0,
                                                    percent_change_7d: 90.0,
                                                    percent_change_30d: 90.0,
                                                },
                                            },
                                            cmc_rank: 888,
                                        },
                                        {
                                            logo: "https://s2.coinmarketcap.com/static/img/coins/64x64/1.png",
                                        },
                                        cryptoTimeframe
                                    )
                                )
                            );
                        }
                    }

                    /**
                     * @param {bool} shouldDetectScroll
                     **/
                    function renderScrollDetector(shouldDetectScroll) {
                        const scrollDetector = skeletonize(
                            CryptoEntry(
                                0,
                                {
                                    symbol: "BTCB",
                                    name: "Bitcoin",
                                    quote: {
                                        USD: {
                                            price: 0.000099,
                                            market_cap: 44000000,
                                            percent_change_1h: 90.0,
                                            percent_change_24h: 90.0,
                                            percent_change_7d: 90.0,
                                            percent_change_30d: 90.0,
                                        },
                                    },
                                    cmc_rank: 888,
                                },
                                {
                                    logo: "https://s2.coinmarketcap.com/static/img/coins/64x64/1.png",
                                },
                                cryptoTimeframe
                            )
                        );

                        tbody.append(scrollDetector);

                        // const scrollDetector = html(
                        //     `<div id="crypto-infinite-scroller" class="loading-spinner ${
                        //         cryptoQuantity != "All Coins" ||
                        //         coins.length >= cryptoTotalCount
                        //             ? "display-hidden"
                        //             : ""
                        //     }">Loading...</div>`
                        // );
                        // document
                        //     .querySelector(`#${scrollDetector.id}`)
                        //     .replaceWith(scrollDetector);

                        if (shouldDetectScroll) {
                            onScrollTo(scrollDetector, async () => {
                                if (DISABLE_INFINITE_SCROLLING) {
                                    return;
                                }

                                if (
                                    cryptoQuantity == "All Coins" &&
                                    coins.length < cryptoTotalCount
                                ) {
                                    // Abort the current fetch (if any)
                                    if (abortController) {
                                        abortController.abort();
                                    }

                                    abortController = new AbortController();
                                    coins = await getCryptoCoinsFinal({
                                        coins,
                                        cryptoQuantity,
                                        quantityModifier: 100,
                                        cryptoSort,
                                        abortSignal: abortController.signal,
                                    });

                                    if (!coins) {
                                        return;
                                    }

                                    cryptoTotalCount =
                                        await getCyptoTotalCount();

                                    metadata = await getCryptoMetadata({
                                        coinIds: coins.map((coin) => coin.id),
                                    });

                                    render();
                                }
                            });
                        }
                    }
                </script>
            </div>
            <div id="stocks" class="display-hidden">
                <h1 class="main-title">Stocks</h1>
                <div class="stock-list">
                    <div class="stock-list-header">
                        <div>Name</div>
                        <div class="stock-list-header-price">
                            Price <span>(USD)</span>
                        </div>
                        <div class="stock-list-header-percent">% Change</div>
                    </div>

                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">AAPL</div>
                            <div class="stock-name-text">Apple Inc.</div>
                        </div>
                        <div class="stock-price">$175.43</div>
                        <div class="percent-change negative">
                            <span>-</span>1.08%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">GOOGL</div>
                            <div class="stock-name-text">Alphabet Inc.</div>
                        </div>
                        <div class="stock-price">$124.61</div>
                        <div class="percent-change negative">
                            <span>-</span>1.82%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">TSLA</div>
                            <div class="stock-name-text">Tesla, Inc.</div>
                        </div>
                        <div class="stock-price">$193.17</div>
                        <div class="percent-change positive">
                            <span>+</span>1.21%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">META</div>
                            <div class="stock-name-text">
                                Meta Platforms, Inc.
                            </div>
                        </div>
                        <div class="stock-price">$262.04</div>
                        <div class="percent-change negative">
                            <span>-</span>0.28%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">KO</div>
                            <div class="stock-name-text">
                                The Coca-Cola Company
                            </div>
                        </div>
                        <div class="stock-price">$60.26</div>
                        <div class="percent-change negative">
                            <span>-</span>1.89%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">PEP</div>
                            <div class="stock-name-text">PepsiCo, Inc.</div>
                        </div>
                        <div class="stock-price">$183.58</div>
                        <div class="percent-change positive">
                            <span>+</span>0.64%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">AMZN</div>
                            <div class="stock-name-text">Amazon.com, Inc.</div>
                        </div>
                        <div class="stock-price">$120.11</div>
                        <div class="percent-change positive">
                            <span>+</span>1.43%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">DE</div>
                            <div class="stock-name-text">Deere & Company</div>
                        </div>
                        <div class="stock-price">$351.21</div>
                        <div class="percent-change negative">
                            <span>-</span>0.23%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">BA</div>
                            <div class="stock-name-text">
                                The Boeing Company
                            </div>
                        </div>
                        <div class="stock-price">$203.63</div>
                        <div class="percent-change positive">
                            <span>+</span>1.93%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">SPY</div>
                            <div class="stock-name-text">
                                SPDR S&P 500 ETF Trust
                            </div>
                        </div>
                        <div class="stock-price">$420.02</div>
                        <div class="percent-change positive">
                            <span>+</span>1.50%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">QQQ</div>
                            <div class="stock-name-text">Invesco QQQ Trust</div>
                        </div>
                        <div class="stock-price">$348.40</div>
                        <div class="percent-change negative">
                            <span>-</span>0.21%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">IWM</div>
                            <div class="stock-name-text">
                                iShares Russell 2000 ETF
                            </div>
                        </div>
                        <div class="stock-price">$176.15</div>
                        <div class="percent-change negative">
                            <span>-</span>0.07%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">F</div>
                            <div class="stock-name-text">
                                Ford Motor Company
                            </div>
                        </div>
                        <div class="stock-price">$12.09</div>
                        <div class="percent-change positive">
                            <span>+</span>1.72%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">AMD</div>
                            <div class="stock-name-text">
                                Advanced Micro Devices, Inc.
                            </div>
                        </div>
                        <div class="stock-price">$127.03</div>
                        <div class="percent-change negative">
                            <span>-</span>0.97%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">NVDA</div>
                            <div class="stock-name-text">
                                NVIDIA Corporation
                            </div>
                        </div>
                        <div class="stock-price">$389.46</div>
                        <div class="percent-change positive">
                            <span>+</span>0.22%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">GS</div>
                            <div class="stock-name-text">
                                The Goldman Sachs Group, Inc.
                            </div>
                        </div>
                        <div class="stock-price">$332.01</div>
                        <div class="percent-change negative">
                            <span>-</span>2.01%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">UAL</div>
                            <div class="stock-name-text">
                                United Airlines Holdings, Inc.
                            </div>
                        </div>
                        <div class="stock-price">$47.26</div>
                        <div class="percent-change positive">
                            <span>+</span>0.90%
                        </div>
                    </div>
                    <div class="stock-entry">
                        <div class="stock-name">
                            <div class="stock-symbol">MCD</div>
                            <div class="stock-name-text">
                                McDonald's Corporation
                            </div>
                        </div>
                        <div class="stock-price">$286.04</div>
                        <div class="percent-change positive">
                            <span>+</span>1.63%
                        </div>
                    </div>
                </div>
            </div>
            <div id="crypto-timeframe-select-window"></div>
            <script type="module">
                import SelectWindow from "./components/select-window.js";
                import {
                    handleCryptoTimeframeChange,
                    cryptoTimeframe,
                    setCryptoTimeframe,
                } from "./states/crypto-timeframe.js";

                handleCryptoTimeframeChange(() => {
                    const newSelectWindow = SelectWindow({
                        title: "Price % Change Timeframe",
                        options: ["1h", "24h", "7d", "30d"],
                        selectedOpt: cryptoTimeframe,
                        onSelect: (opt) => {
                            // cryptoTimeframe = opt;
                            setCryptoTimeframe(opt);
                        },
                    });
                    newSelectWindow.id = "crypto-timeframe-select-window";

                    document
                        .querySelector(`#${newSelectWindow.id}`)
                        .replaceWith(newSelectWindow);
                });
            </script>
            <div id="crypto-quantity-select-window"></div>
            <script type="module">
                import SelectWindow from "./components/select-window.js";
                import {
                    handleCryptoQuantityChange,
                    cryptoQuantity,
                    setCryptoQuantity,
                } from "./states/crypto-quantity.js";

                handleCryptoQuantityChange(() => {
                    const newSelectWindow = SelectWindow({
                        title: "Coin Display Amount",
                        options: ["All Coins", "Top 100", "Top 200"],
                        selectedOpt: cryptoQuantity,
                        onSelect: (opt) => {
                            setCryptoQuantity(opt);
                        },
                    });
                    newSelectWindow.id = "crypto-quantity-select-window";

                    document
                        .querySelector(`#${newSelectWindow.id}`)
                        .replaceWith(newSelectWindow);
                });
            </script>
            <nav class="settings-window">
                <div>
                    <div class="drag-to-close">
                        <div class="drag-bar"></div>
                    </div>
                    <div class="settings-account-btns">
                        <button type="button">
                            <div>Log in</div>
                        </button>
                        <button type="button">
                            <div>Sign up</div>
                        </button>
                    </div>
                    <div class="settings-window-section">
                        <div class="settings-window-row">
                            <div class="settings-row-title">Dark Mode</div>
                        </div>
                        <div class="settings-window-row">
                            <div class="settings-row-title">
                                Default Currency
                            </div>
                            <div class="settings-row-content">
                                <div class="settings-row-value">$USD</div>
                                <!-- <div class="settings-row-arrow">
                                    <i class="fas fa-angle-right"></i>
                                </div> -->
                            </div>
                        </div>
                        <div class="settings-window-row">
                            <div class="settings-row-title">
                                Preferred Market
                            </div>
                            <div class="settings-pref-markets">
                                <div
                                    class="pref-market-opt selected-pref-market"
                                >
                                    Crypto
                                </div>
                                <div class="pref-market-opt">Stocks</div>
                            </div>
                        </div>
                    </div>
                    <div class="pref-market-detail-text">
                        The preferred market selects which one is displayed
                        initially.
                    </div>
                </div>
                <button type="button" class="settings-close-btn">Close</button>
            </nav>
            <script type="module">
                import { disableScrollBehind } from "./utils/disable-scroll-behind.js";

                disableScrollBehind(document.querySelector(".settings-window"));
            </script>
            <a id="back-to-top-btn" class="opacity-zero" href="#">
                <i class="fas fa-chevron-up"></i>
            </a>
        </main>
        <!-- <footer>
            <div class="footer-credits">
                All of the UI in this app is 100% completely designed &
                developed from scratch by <span>Amer Albareedi 😁</span>
            </div>
            <div class="footer-contacts">
                <a
                    href="https://albareedi.com/"
                    target="_blank"
                    class="footer-contact-btn"
                >
                    <i class="fa-solid fa-globe"></i>
                    <div>Portfolio</div>
                </a>
                <a
                    href="mailto:aalbareedi@yahoo.com"
                    class="footer-contact-btn"
                >
                    <i class="fa-solid fa-envelope"></i>
                    <div>Email</div>
                </a>
                <a
                    href="https://github.com/aalbareedi"
                    target="_blank"
                    class="footer-contact-btn"
                >
                    <i class="fab fa-github"></i>
                    <div>GitHub</div>
                </a>
            </div>
        </footer> -->
        <script src="script.js" defer type="module"></script>
        <script src="carousel/carousel.js" defer type="module"></script>
    </body>
</html>
